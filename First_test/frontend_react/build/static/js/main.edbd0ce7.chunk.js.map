{"version":3,"sources":["logo.svg","api.js","pages/LoginPage.js","PrivateRoute.js","pages/HomePage.js","ProfileInfoDrawer.js","pages/ProfilePage.js","pages/FindClassBooksPage.js","PageContainer.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","api","request","url","method","body","Promise","resolve","reject","fetch","process","headers","sessionStorage","getItem","then","res","status","json","login","email","password","JSON","stringify","expiration_date","Date","setFullYear","getFullYear","setItem","access_token","document","cookie","refresh_token","toUTCString","catch","loginPaleoID","code","logout","isLoggedIn","LoginPage","props","handleInputChange","field","e","setState","target","value","handleKeyPress","event","key","handleLogin","isLoading","state","checkLogin","dialogTitle","dialogContent","dialogOpen","handleRegistrationBtn","dialogHandleClose","name","paleoIdUrl","encodeURIComponent","values","queryString","parse","this","location","search","AppBar","position","style","alignItems","Toolbar","Typography","variant","Container","marginTop","src","width","maxWidth","margin","display","Paper","padding","noValidate","autoComplete","textAlign","TextField","id","label","fullWidth","onChange","onKeyPress","autoFocus","type","LinearProgress","Button","marginRight","onClick","marginLeft","color","href","Dialog","open","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","React","Component","withRouter","PrivateRoute","component","auth","wasInitialized","rest","render","to","HomePage","handleLogout","ProfileInfoDrawer","emailmd5","md5","require","toLowerCase","Avatar","alt","height","gutterBottom","marginBottom","ProfilePage","FindClassBooksPage","handleClassChange","_class","years","rawClasses","filter","c","map","school_year","year","updateBooksList","handleYearChange","_className","classId","books","classes","Set","console","log","length","CircularProgress","FormControl","InputLabel","Select","labelId","item","MenuItem","parseInt","TableContainer","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","book","photo","title","isbn","price","useStyles","makeStyles","theme","root","drawer","breakpoints","up","flexShrink","appBar","zIndex","menuButton","spacing","toolbar","mixins","drawerPaper","content","flexGrow","down","closeMenuButton","PageContainer","useTheme","useState","mobileOpen","setMobileOpen","anchorEl","setAnchorEl","handleDrawerToggle","handleClose","IconButton","edge","float","currentTarget","Icon","keepMounted","Boolean","NavLink","Divider","List","ListItem","button","exact","activeClassName","ListItemText","primary","className","CssBaseline","noWrap","Hidden","mdUp","implementation","Drawer","anchor","direction","paper","ModalProps","smDown","path","App","componentDidMount","chechLogin","setTimeout","error","basename","window","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"iKAAAA,EAAOC,QAAU,IAA0B,kC,4QCArCC,EAAM,CACRC,QAAS,WAA4C,IAA3CC,EAA0C,uDAApC,GAAIC,EAAgC,uDAAvB,MAAOC,EAAgB,uDAAT,KACvC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACzBC,MAAMC,yCAAgCP,EAAK,CACvCC,OAAQA,EACRO,QAAS,CACL,eAAgB,mBAChB,cAAiB,UAAYC,eAAeC,QAAQ,iBAExDR,KAAMA,IACPS,MAAK,SAAAC,GACe,MAAfA,EAAIC,OACJR,IAEAO,EAAIE,OAAOH,MAAK,SAAAC,GACZR,EAAQQ,aAM5BG,MAAO,SAACC,EAAOC,GACX,OAAO,IAAId,SAAQ,SAACC,EAASC,GACzBP,EAAIC,QAAQ,cAAe,OAAQmB,KAAKC,UAAU,CAACH,MAAOA,EAAOC,SAAUA,KAAYN,MAAK,SAAAC,GACxF,IAAIQ,EAAkB,IAAIC,KAC1BD,EAAgBE,YAAYF,EAAgBG,cAAgB,GAC5Dd,eAAee,QAAQ,eAAgBZ,EAAIa,cAC3CC,SAASC,OAAS,iBAAmBf,EAAIgB,cAAgB,aAAeR,EAAgBS,cAAgB,WACxGzB,OACD0B,OAAM,WACLzB,WAIZ0B,aAAc,SAACC,GACX,OAAO,IAAI7B,SAAQ,SAACC,EAASC,GACzBP,EAAIC,QAAQ,gBAAiB,OAAQmB,KAAKC,UAAU,CAACa,KAAMA,KAAQrB,MAAK,SAAAC,GACpE,IAAIQ,EAAkB,IAAIC,KAC1BD,EAAgBE,YAAYF,EAAgBG,cAAgB,GAC5Dd,eAAee,QAAQ,eAAgBZ,EAAIa,cAC3CC,SAASC,OAAS,iBAAmBf,EAAIgB,cAAgB,aAAeR,EAAgBS,cAAgB,WACxGzB,OACD0B,OAAM,WACLzB,WAIZ4B,OAAQ,WACJ,IAAIb,EAAkB,IAAIC,KAC1BD,EAAgBE,YAAYF,EAAgBG,cAAgB,GAC5Dd,eAAee,QAAQ,eAAgB,MACvCE,SAASC,OAAS,2BAA6BP,EAAgBS,cAAgB,YAEnFK,WAAY,WACR,OAAO,IAAI/B,SAAQ,SAACC,EAASC,GACzBP,EAAIC,QAAQ,kBAAkBY,MAAK,SAAAC,GAC/BR,OACD0B,OAAM,WACLzB,YAMDP,I,4CC9CTqC,E,kDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAkBVC,kBAAoB,SAACC,EAAOC,GACxB,EAAKC,SAAL,eAAgBF,EAAQC,EAAEE,OAAOC,SApBlB,EAuBnBC,eAAiB,SAACC,GACI,UAAdA,EAAMC,KACN,EAAKC,eAzBM,EA6BnBA,YAAc,WACV,EAAKN,SAAS,CAACO,WAAW,IAC1BjD,EAAIiB,MAAM,EAAKiC,MAAMhC,MAAO,EAAKgC,MAAM/B,UAAUN,MAAK,SAACC,GACnD,EAAKwB,MAAMa,gBACZnB,OAAM,WACL,EAAKU,SAAS,CAACU,YAAa,SAAUC,cAAe,yBAA0BC,YAAY,IAC3F,EAAKZ,SAAS,CAACO,WAAW,QAnCf,EAuCnBM,sBAAwB,WAEpB,EAAKb,SAAS,CACVU,YAAa,aACbC,cAAe,8CACfC,YAAY,KA5CD,EAgDnBE,kBAAoB,WAChB,EAAKd,SAAS,CAACY,YAAY,KA/C3B,EAAKJ,MAAQ,CAACO,KAAM,GAAIvC,MAAO,GAAIC,SAAU,GAAI8B,WAAW,GAC5D,EAAKC,MAAMQ,WAAajD,sIAAqKkD,mBAAmBlD,uCAHjM,E,gEAME,IAAD,OACVmD,EAASC,IAAYC,MAAMC,KAAKzB,MAAM0B,SAASC,QAChC,eAAjBL,EAAOV,QACPa,KAAKrB,SAAS,CAACO,WAAW,IAC1BjD,EAAIiC,aAAa2B,EAAO1B,MAAMrB,MAAK,WAC/B,EAAKyB,MAAMa,gBACZnB,OAAM,WACL,EAAKU,SAAS,CAACU,YAAa,SAAUC,cAAe,qCAAsCC,YAAY,IACvG,EAAKZ,SAAS,CAACO,WAAW,U,+BAsC5B,IAAD,OACL,OACI,oCACI,kBAACiB,EAAA,EAAD,CAAQC,SAAS,SAASC,MAAO,CAACC,WAAY,WAC1C,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAYC,QAAQ,MAApB,gBAKR,kBAACC,EAAA,EAAD,CAAWL,MAAO,CAACC,WAAY,SAAUK,UAAW,SAChD,yBAAKC,IAAI,kCAAkCP,MAAO,CAACQ,MAAO,MAAOC,SAAU,QAASC,OAAQ,YAAaC,QAAS,WAClH,kBAACC,EAAA,EAAD,CAAOZ,MAAO,CAACS,SAAU,QAASI,QAAS,OAAQH,OAAQ,WACvD,0BAAMI,YAAU,EAACC,aAAa,OAC1B,kBAACZ,EAAA,EAAD,CAAYC,QAAQ,KAAKJ,MAAO,CAACgB,UAAW,WAA5C,SAGA,kBAACC,EAAA,EAAD,CAAWC,GAAG,iBAAiBC,MAAM,QAAQf,QAAQ,WAAWgB,WAAS,EAC9DpB,MAAO,CAACM,UAAW,QACnBe,SAAU,SAAChD,GAAD,OAAO,EAAKF,kBAAkB,QAASE,IACjDiD,WAAY3B,KAAKlB,eAAgB8C,WAAS,IACrD,kBAACN,EAAA,EAAD,CAAWC,GAAG,iBAAiBC,MAAM,WAAWf,QAAQ,WAAWgB,WAAS,EAACI,KAAK,WACvExB,MAAO,CAACM,UAAW,QACnBe,SAAU,SAAChD,GAAD,OAAO,EAAKF,kBAAkB,WAAYE,IACpDiD,WAAY3B,KAAKlB,iBAC3BkB,KAAKb,MAAMD,UACR,kBAAC4C,EAAA,EAAD,CAAgBzB,MAAO,CAACU,OAAQ,SAChC,yBAAKV,MAAO,CAACM,UAAW,UAE5B,yBAAKN,MAAO,CAACQ,MAAO,cAAeE,OAAQ,kBACvC,kBAACgB,EAAA,EAAD,CAAQtB,QAAQ,YAAYJ,MAAO,CAAC2B,YAAa,OACzCC,QAASjC,KAAKf,aADtB,UAEA,kBAAC8C,EAAA,EAAD,CAAQtB,QAAQ,YAAYJ,MAAO,CAAC6B,WAAY,OACxCD,QAASjC,KAAKR,uBADtB,eAGJ,yBAAKa,MAAO,CAACQ,MAAO,cAAeE,OAAQ,kBACvC,kBAACgB,EAAA,EAAD,CAAQtB,QAAQ,YAAY0B,MAAM,UAAUC,KAAMpC,KAAKb,MAAMQ,YAA7D,yBAMZ,kBAAC0C,EAAA,EAAD,CACIC,KAAMtC,KAAKb,MAAMI,WACjBgD,QAASvC,KAAKP,kBACd+C,kBAAgB,qBAChBC,mBAAiB,4BAEjB,kBAACC,EAAA,EAAD,CAAanB,GAAG,sBAAsBvB,KAAKb,MAAME,aACjD,kBAACsD,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAmBrB,GAAG,4BACjBvB,KAAKb,MAAMG,gBAGpB,kBAACuD,EAAA,EAAD,KACI,kBAACd,EAAA,EAAD,CAAQE,QAASjC,KAAKP,kBAAmB0C,MAAM,UAAUP,WAAS,GAAlE,kB,GA5GJkB,IAAMC,WAuHfC,cAAW1E,G,iBChHX2E,EAtBM,SAAC,GAKO,IAJQF,EAIT,EAJFG,UACAC,EAGE,EAHFA,KACAC,EAEE,EAFFA,eACGC,EACD,qDACxB,OACI,kBAAC,IAAD,iBACQA,EADR,CAEIC,OAAQ,SAAA/E,GAAK,OACA,IAAT4E,EACI,kBAACJ,EAAcxE,GACd6E,EAGD,kBAAC,IAAD,CAAUG,GAAG,WAFb,QCYLC,E,kDAtBX,WAAYjF,GAAQ,IAAD,8BACf,cAAMA,IAGVkF,aAAe,WACXxH,EAAImC,SACJ,EAAKG,MAAMa,cANI,E,qDAUf,OACI,oCACI,kBAACoB,EAAA,EAAD,CAAYC,QAAQ,KAAKJ,MAAO,CAACgB,UAAW,SAAUV,UAAW,SAAjE,4BAGA,kBAACoB,EAAA,EAAD,CAAQtB,QAAQ,YAAY0B,MAAM,YAAY9B,MAAO,CAACU,OAAQ,YAAaC,QAAS,SAC5EiB,QAASjC,KAAKyD,cADtB,e,GAhBOX,IAAMC,W,qJC6BdW,G,kDA3BX,aAAe,IAAD,8BACV,gBACKvE,MAAQ,CAACO,KAAM,GAAIvC,MAAO,GAAIwG,SAAU,IAFnC,E,gEAKO,IAAD,OAChB1H,EAAIC,QAAQ,kBAAkBY,MAAK,SAAAC,GAC/B,IAAI6G,EAAMC,EAAQ,KAClB,EAAKlF,SAAS,CAACe,KAAM3C,EAAI2C,KAAMvC,MAAOJ,EAAII,MAAOwG,SAAUC,EAAI7G,EAAII,MAAM2G,sB,+BAK7E,OAAQ,oCACA,kBAACC,EAAA,EAAD,CAAQC,IAAI,aAAapD,IAAK,+BAAiCZ,KAAKb,MAAMwE,SAAW,eAC7EtD,MAAO,CAACQ,MAAO,OAAQoD,OAAQ,UACvC,kBAACzD,EAAA,EAAD,CAAYC,QAAQ,YAAYyD,cAAY,EAAC7D,MAAO,CAACM,UAAW,SAAUwD,aAAc,YACnFnE,KAAKb,MAAMO,MAEhB,kBAACc,EAAA,EAAD,CAAYC,QAAQ,UAAUyD,cAAY,GACrClE,KAAKb,MAAMhC,Y,GArBA2F,IAAMC,WCavBqB,G,kDAfX,WAAY7F,GAAQ,uCACVA,G,qDAIN,OACI,oCACI,kBAACiC,EAAA,EAAD,CAAYC,QAAQ,KAAKJ,MAAO,CAACgB,UAAW,SAAUV,UAAW,SAAjE,0C,GARUmC,IAAMC,W,mGCkHjBsB,G,kDApGX,WAAY9F,GAAQ,IAAD,8BACf,cAAMA,IAaV+F,kBAAoB,SAACvF,GACjB,EAAKJ,SAAS,CAAC4F,OAAQxF,EAAMH,OAAOC,QACpC,IAAI2F,EAAQ,EAAKrF,MAAMsF,WAAWC,QAAO,SAACC,GACtC,OAAOA,EAAEjF,MAAQX,EAAMH,OAAOC,SAC/B+F,KAAI,SAACD,GACJ,OAAOA,EAAEE,eAEb,EAAKlG,SAAS,CAAC6F,MAAOA,EAAOM,KAAMN,EAAM,KACzC,EAAKO,gBAAgBhG,EAAMH,OAAOC,MAAO2F,EAAM,KAtBhC,EAyBnBQ,iBAAmB,SAACjG,GAChB,EAAKJ,SAAS,CAACmG,KAAM/F,EAAMH,OAAOC,QAClC,EAAKkG,gBAAgB,EAAK5F,MAAMoF,OAAQxF,EAAMH,OAAOC,QA3BtC,EA8BnBkG,gBAAkB,SAACE,EAAYH,GAC3B,IAGII,EAHS,EAAK/F,MAAMsF,WAAWC,QAAO,SAACC,GACvC,OAAOA,EAAEjF,MAAQuF,GAAcN,EAAEE,aAAeC,KAE/B,GAAGvD,GACxBtF,EAAIC,QAAQ,YAAcgJ,EAAU,UAAUpI,MAAK,SAAAC,GAC/C,EAAK4B,SAAS,CAACwG,MAAOpI,QAlC1B,EAAKoC,MAAQ,CAACiG,QAAS,GAAIb,OAAQ,GAAIC,MAAO,GAAIM,KAAM,GAAIK,MAAO,IAFpD,E,gEAKE,IAAD,OAChBlJ,EAAIC,QAAQ,YAAYY,MAAK,SAAAC,GACzB,IAAIqI,EAAUrI,EAAI6H,KAAI,SAACD,GAAD,OAAOA,EAAEjF,QAC/B0F,EAAO,aAAO,IAAIC,IAAID,IACtBE,QAAQC,IAAIxI,GACZ,EAAK4B,SAAS,CAAC8F,WAAY1H,EAAKqI,QAASA,S,+BA+B7C,OAAiC,GAA7BpF,KAAKb,MAAMiG,QAAQI,OAAoB,yBAAKnF,MAAO,CAACU,OAAQ,YAAaF,MAAO,gBAAgB,kBAAC4E,EAAA,EAAD,OAEhG,oCACI,kBAACjF,EAAA,EAAD,CAAYC,QAAQ,KAAKJ,MAAO,CAACgB,UAAW,SAAUV,UAAW,SAAjE,mCAGA,yBAAKN,MAAO,CAACQ,MAAO,cAAeE,OAAQ,aACvC,kBAAC2E,GAAA,EAAD,CAAarF,MAAO,CAACQ,MAAO,OAAQmB,YAAa,QAC7C,kBAAC2D,GAAA,EAAD,CAAYpE,GAAG,4BAAf,UACA,kBAACqE,GAAA,EAAD,CACIC,QAAQ,2BACRnE,SAAU1B,KAAKsE,kBACfzF,MAAOmB,KAAKb,MAAMoF,QAEjBvE,KAAKb,MAAMiG,QAAQR,KAAI,SAACkB,GACrB,OAAO,kBAACC,EAAA,EAAD,CAAUlH,MAAOiH,GAAOA,QAI3C,kBAACJ,GAAA,EAAD,CAAarF,MAAO,CAACQ,MAAO,QAASqB,WAAY,QAC7C,kBAACyD,GAAA,EAAD,CAAYpE,GAAG,4BAAf,mBACA,kBAACqE,GAAA,EAAD,CACIC,QAAQ,2BACRnE,SAAU1B,KAAKgF,iBACfnG,MAAOmB,KAAKb,MAAM2F,MAEjB9E,KAAKb,MAAMqF,MAAMI,KAAI,SAACkB,GACnB,OAAO,kBAACC,EAAA,EAAD,CAAUlH,MAAOiH,GAAOA,EAAxB,IAA+BE,SAASF,GAAM,SAKpE9F,KAAKb,MAAMgG,MAAMK,OAAS,EAAI,kBAACS,GAAA,EAAD,CAAgB/C,UAAWjC,IAAOZ,MAAO,CAACM,UAAW,SAChF,kBAACuF,GAAA,EAAD,CAAOC,aAAW,gBACd,kBAACC,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAWC,MAAM,UAAjB,YACA,kBAACD,GAAA,EAAD,CAAWC,MAAM,QAAjB,UACA,kBAACD,GAAA,EAAD,CAAWC,MAAM,QAAjB,QACA,kBAACD,GAAA,EAAD,CAAWC,MAAM,QAAjB,YAGR,kBAACC,GAAA,EAAD,KACKxG,KAAKb,MAAMgG,MAAMP,KAAI,SAAC6B,GAAD,OAClB,kBAACJ,GAAA,EAAD,CAAUrH,IAAKyH,EAAKlF,IAChB,kBAAC+E,GAAA,EAAD,CAAWC,MAAM,UAAS,yBAAK3F,IAAK6F,EAAKC,MAAOzC,OAAO,WACvD,kBAACqC,GAAA,EAAD,CAAWC,MAAM,QAAQE,EAAKE,OAC9B,kBAACL,GAAA,EAAD,CAAWC,MAAM,QAAQE,EAAKG,MAC9B,kBAACN,GAAA,EAAD,CAAWC,MAAM,QAAjB,SAA0BE,EAAKI,cAK/B,U,GA/FH/D,IAAMC,WCYjC+D,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCC,KAAM,CACFjG,QAAS,QAEbkG,OAAO,eACFF,EAAMG,YAAYC,GAAG,MAAQ,CAC1BvG,MAPQ,IAQRwG,WAAY,IAGpBC,OAAQ,CACJC,OAAQP,EAAMO,OAAOL,OAAS,GAElCM,WAAW,aACPxF,YAAagF,EAAMS,QAAQ,IAC1BT,EAAMG,YAAYC,GAAG,MAAQ,CAC1BpG,QAAS,SAGjB0G,QAASV,EAAMW,OAAOD,QACtBE,YAAa,CACT/G,MAtBY,KAwBhBgH,QAAQ,aACJC,SAAU,EACV5G,QAAS8F,EAAMS,QAAQ,GACvB9G,UAAW,QACVqG,EAAMG,YAAYY,KAAK,MAAQ,CAC5BpH,UAAW,SAGnBqH,gBAAiB,CACbhG,YAAa,OACbE,WAAY,OAwIL+F,OApIf,SAAuB1J,GACnB,IACM6G,EAAU0B,KACVE,EAAQkB,cAHY,EAIUpF,IAAMqF,UAAS,GAJzB,mBAInBC,EAJmB,KAIPC,EAJO,OAKMvF,IAAMqF,SAAS,MALrB,mBAKnBG,EALmB,KAKTC,EALS,KAO1B,SAASC,IACLH,GAAeD,GAGnB,IAIMK,EAAc,WAChBF,EAAY,OASVrB,EACF,6BACI,yBAAK7G,MAAO,CAACa,QAAS,SAClB,kBAAC,GAAD,MAEA,kBAACwH,EAAA,EAAD,CACIC,KAAK,QACLxG,MAAM,UACN9B,MAAO,CAACU,OAAQ,EAAGG,QAAS,EAAG0H,MAAO,SACtC3G,QAvBQ,SAAClD,GACrBwJ,EAAYxJ,EAAM8J,iBAwBN,kBAACC,EAAA,EAAD,qBAEJ,kBAAC,IAAD,CACIR,SAAUA,EACVS,aAAW,EACXzG,KAAM0G,QAAQV,GACd/F,QAASkG,GAET,kBAAC1C,EAAA,EAAD,CAAU9D,QAASwG,EAAavF,UAAW+F,IAAS1F,GAAG,YAAvD,WACA,kBAACwC,EAAA,EAAD,CAAU9D,QA1BL,WACjBwG,IACAxM,EAAImC,SACJG,EAAMa,eAuBM,YAGR,kBAAC8J,EAAA,EAAD,CAASzI,QAAQ,SAASJ,MAAO,CAACU,OAAQ,OAC1C,kBAACoI,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAUC,QAAM,EAACrK,IAAI,IAAIkE,UAAW+F,IAASK,OAAK,EAAC/F,GAAG,IAAIgG,gBAAgB,gBACtE,kBAACC,EAAA,EAAD,CAAcC,QAAQ,UAE1B,kBAACL,EAAA,EAAD,CAAUC,QAAM,EAACrK,IAAI,eAAekE,UAAW+F,IAAS1F,GAAG,eAAegG,gBAAgB,gBACtF,kBAACC,EAAA,EAAD,CAAcC,QAAQ,4BAKtC,OACI,yBAAKC,UAAWtE,EAAQ6B,MACpB,kBAAC0C,EAAA,EAAD,MACA,kBAACxJ,EAAA,EAAD,CAAQC,SAAS,QAAQsJ,UAAWtE,EAAQkC,QACxC,kBAAC/G,EAAA,EAAD,KACI,kBAACmI,EAAA,EAAD,CACIvG,MAAM,UACNgE,aAAW,cACXwC,KAAK,QACL1G,QAASuG,EACTkB,UAAWtE,EAAQoC,YAEnB,kBAAC,IAAD,OAEJ,kBAAChH,EAAA,EAAD,CAAYC,QAAQ,KAAKmJ,QAAM,GAA/B,gBAMR,yBAAKF,UAAWtE,EAAQ8B,QAEpB,kBAAC2C,EAAA,EAAD,CAAQC,MAAI,EAACC,eAAe,OACxB,kBAACC,EAAA,EAAD,CACIvJ,QAAQ,YACRwJ,OAA4B,QAApBjD,EAAMkD,UAAsB,QAAU,OAC9C5H,KAAM8F,EACN7F,QAASiG,EACTpD,QAAS,CACL+E,MAAO/E,EAAQwC,aAEnBwC,WAAY,CACRrB,aAAa,IAGhB7B,IAGT,kBAAC2C,EAAA,EAAD,CAAQQ,QAAM,EAACN,eAAe,OAC1B,kBAACC,EAAA,EAAD,CACIN,UAAWtE,EAAQ8B,OACnBzG,QAAQ,YACR2E,QAAS,CACL+E,MAAO/E,EAAQwC,cAGnB,yBAAK8B,UAAWtE,EAAQsC,UACvBR,KAIb,yBAAKwC,UAAWtE,EAAQyC,SACpB,6BACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOyB,OAAK,EAACgB,KAAK,KACd,kBAAC,EAAD,CAAUlL,WAAYb,EAAMa,cAEhC,kBAAC,IAAD,CAAOkL,KAAK,YACR,kBAAC,GAAD,OAEJ,kBAAC,IAAD,CAAOA,KAAK,gBACR,kBAAC,GAAD,YC1HbC,G,kDA7CX,aAAe,IAAD,8BACV,gBAIJC,kBAAoB,WAChB,EAAKC,aACLC,YAAW,WACuB,OAA1B,EAAKvL,MAAMd,YACX,EAAKM,SAAS,CAACgM,OAAO,MAE3B,MAXO,EAcdF,WAAa,WACTxO,EAAIoC,aAAavB,MAAK,WAClB,EAAK6B,SAAS,CAACN,YAAY,EAAM+E,gBAAgB,IACjDkC,QAAQC,KAAI,MACbtH,OAAM,WACL,EAAKU,SAAS,CAACN,YAAY,EAAO+E,gBAAgB,IAClDkC,QAAQC,KAAI,OApBN,EAwBdjC,OAAS,WACL,OAAyB,IAArB,EAAKnE,MAAMwL,MAAuB,yBAAKtK,MAAO,CAACgB,UAAW,WAAW,oEAA6C,oDAA0B,2CAClH,OAA1B,EAAKlC,MAAMd,WAA4B,yBAAKgC,MAAO,CAACU,OAAQ,YAAaF,MAAO,gBAAgB,kBAAC4E,EAAA,EAAD,OAEhG,kBAAC,IAAD,CAAemF,SAAS,SACpB,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOtB,OAAK,EAACgB,KAAK,UACb,EAAKnL,MAAMd,WACN,kBAAC,IAAD,CAAUkF,GAAG,KACb,kBAAC,EAAD,CAAWnE,WAAY,EAAKqL,cAEtC,kBAAC,EAAD,CAActH,KAAM,EAAKhE,MAAMd,WAAY+E,eAAgB,EAAKjE,MAAMiE,eAAgBkG,OAAK,EAACpG,UAAW,kBAAM,kBAAC,GAAD,CAAe9D,WAAY,EAAKqL,cAAgBH,KAAK,MAClK,kBAAC,IAAD,CAAOA,KAAK,KACR,kBAAC,IAAD,CAAU/G,GAAG,SAnC7B,EAAKpE,MAAQ,CAACwL,OAAO,EAAOtM,WAAY,KAAM+E,gBAAgB,GAFpD,E,UADAN,IAAMC,WCLJiG,QACW,cAA7B6B,OAAO5K,SAAS6K,UAEe,UAA7BD,OAAO5K,SAAS6K,UAEhBD,OAAO5K,SAAS6K,SAASC,MACvB,2DCZNC,IAAS1H,OACP,kBAAC,IAAM2H,WAAP,KACE,kBAAC,GAAD,OAEFpN,SAASqN,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBvO,MAAK,SAAAwO,GACJA,EAAaC,gBAEdtN,OAAM,SAAA0M,GACLrF,QAAQqF,MAAMA,EAAMa,c","file":"static/js/main.edbd0ce7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","const api = {\n    request: (url = \"\", method = \"GET\", body = null) => {\n        return new Promise((resolve, reject) => {\n            fetch(process.env.REACT_APP_API_URL + url, {\n                method: method,\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': 'Bearer ' + sessionStorage.getItem('access_token')\n                },\n                body: body\n            }).then(res => {\n                if (res.status !== 200) {\n                    reject();\n                } else {\n                    res.json().then(res => {\n                        resolve(res);\n                    })\n                }\n            });\n        });\n    },\n    login: (email, password) => {\n        return new Promise((resolve, reject) => {\n            api.request('/auth/login', 'POST', JSON.stringify({email: email, password: password})).then(res => {\n                var expiration_date = new Date();\n                expiration_date.setFullYear(expiration_date.getFullYear() + 1);\n                sessionStorage.setItem('access_token', res.access_token);\n                document.cookie = \"refresh_token=\" + res.refresh_token + \"; expires=\" + expiration_date.toUTCString() + \"; path=/\";\n                resolve();\n            }).catch(() => {\n                reject();\n            })\n        });\n    },\n    loginPaleoID: (code) => {\n        return new Promise((resolve, reject) => {\n            api.request('/auth/paleoid', 'POST', JSON.stringify({code: code})).then(res => {\n                var expiration_date = new Date();\n                expiration_date.setFullYear(expiration_date.getFullYear() + 1);\n                sessionStorage.setItem('access_token', res.access_token);\n                document.cookie = \"refresh_token=\" + res.refresh_token + \"; expires=\" + expiration_date.toUTCString() + \"; path=/\";\n                resolve();\n            }).catch(() => {\n                reject();\n            })\n        });\n    },\n    logout: () => {\n        var expiration_date = new Date();\n        expiration_date.setFullYear(expiration_date.getFullYear() + 1);\n        sessionStorage.setItem('access_token', null);\n        document.cookie = \"refresh_token=; expires=\" + expiration_date.toUTCString() + \"; path=/\";\n    },\n    isLoggedIn: () => {\n        return new Promise((resolve, reject) => {\n            api.request('/users/profile').then(res => {\n                resolve();\n            }).catch(() => {\n                reject();\n            })\n        });\n    }\n}\n\nexport default api;","import React from 'react';\nimport Container from \"@material-ui/core/Container\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport api from \"../api\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { withRouter } from 'react-router-dom'\nimport queryString from 'query-string'\n\nclass LoginPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {name: '', email: '', password: '', isLoading: false}\n        this.state.paleoIdUrl = process.env.REACT_APP_PALEOID_URL + '/oauth/authorize?client_id=' + process.env.REACT_APP_PALEOID_CLIENT_ID + '&response_type=code&state=paleobooks&redirect_uri=' + encodeURIComponent(process.env.REACT_APP_PALEOID_REDIRECT_URI);\n    }\n\n    componentDidMount() {\n        const values = queryString.parse(this.props.location.search)\n        if (values.state === \"paleobooks\") {\n            this.setState({isLoading: true});\n            api.loginPaleoID(values.code).then(() => {\n                this.props.checkLogin();\n            }).catch(() => {\n                this.setState({dialogTitle: 'Errore', dialogContent: 'Autenticazione con PaleoID fallita', dialogOpen: true});\n                this.setState({isLoading: false})\n            })\n        }\n    }\n\n    handleInputChange = (field, e) => {\n        this.setState({[field]: e.target.value});\n    }\n\n    handleKeyPress = (event) => {\n        if (event.key === 'Enter') {\n            this.handleLogin();\n        }\n    }\n\n    handleLogin = () => {\n        this.setState({isLoading: true})\n        api.login(this.state.email, this.state.password).then((res) => {\n            this.props.checkLogin();\n        }).catch(() => {\n            this.setState({dialogTitle: 'Errore', dialogContent: 'Credenziali non valide', dialogOpen: true});\n            this.setState({isLoading: false})\n        })\n    }\n\n    handleRegistrationBtn = () => {\n        /* TODO: implementare registrazione (si potrebbe fare un form in un dialog che compare premendo questo pulsante) */\n        this.setState({\n            dialogTitle: 'Attenzione',\n            dialogContent: 'Questa funzione non è ancora disponibile',\n            dialogOpen: true\n        });\n    }\n\n    dialogHandleClose = () => {\n        this.setState({dialogOpen: false});\n    }\n\n    render() {\n        return (\n            <>\n                <AppBar position=\"static\" style={{alignItems: 'center'}}>\n                    <Toolbar>\n                        <Typography variant=\"h6\">\n                            PaleoBooks\n                        </Typography>\n                    </Toolbar>\n                </AppBar>\n                <Container style={{alignItems: 'center', marginTop: '10px'}}>\n                    <img src=\"https://i.imgur.com/jMTzBKa.png\" style={{width: '30%', maxWidth: '175px', margin: '15px auto', display: 'block'}}/>\n                    <Paper style={{maxWidth: '500px', padding: '15px', margin: '0 auto'}}>\n                        <form noValidate autoComplete=\"off\">\n                            <Typography variant=\"h4\" style={{textAlign: 'center'}}>\n                                Login\n                            </Typography>\n                            <TextField id=\"outlined-basic\" label=\"Email\" variant=\"outlined\" fullWidth\n                                       style={{marginTop: '10px'}}\n                                       onChange={(e) => this.handleInputChange('email', e)}\n                                       onKeyPress={this.handleKeyPress} autoFocus/>\n                            <TextField id=\"outlined-basic\" label=\"Password\" variant=\"outlined\" fullWidth type=\"password\"\n                                       style={{marginTop: '10px'}}\n                                       onChange={(e) => this.handleInputChange('password', e)}\n                                       onKeyPress={this.handleKeyPress}/>\n                            {this.state.isLoading ?\n                                <LinearProgress style={{margin: '8px'}}/> :\n                                <div style={{marginTop: '20px'}}/>\n                            }\n                            <div style={{width: 'fit-content', margin: '0px auto 10px'}}>\n                                <Button variant=\"contained\" style={{marginRight: '4px'}}\n                                        onClick={this.handleLogin}>Accedi</Button>\n                                <Button variant=\"contained\" style={{marginLeft: '4px'}}\n                                        onClick={this.handleRegistrationBtn}>Registrati</Button>\n                            </div>\n                            <div style={{width: 'fit-content', margin: '20px auto 0px'}}>\n                                <Button variant=\"contained\" color=\"primary\" href={this.state.paleoIdUrl}>\n                                    Accedi con PaleoID\n                                </Button>\n                            </div>\n                        </form>\n                    </Paper>\n                    <Dialog\n                        open={this.state.dialogOpen}\n                        onClose={this.dialogHandleClose}\n                        aria-labelledby=\"alert-dialog-title\"\n                        aria-describedby=\"alert-dialog-description\"\n                    >\n                        <DialogTitle id=\"alert-dialog-title\">{this.state.dialogTitle}</DialogTitle>\n                        <DialogContent>\n                            <DialogContentText id=\"alert-dialog-description\">\n                                {this.state.dialogContent}\n                            </DialogContentText>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={this.dialogHandleClose} color=\"primary\" autoFocus>\n                                Chiudi\n                            </Button>\n                        </DialogActions>\n                    </Dialog>\n                </Container>\n            </>\n        )\n    }\n}\n\nexport default withRouter(LoginPage);","import React from \"react\";\nimport {Route, Redirect} from \"react-router-dom\";\n\nconst PrivateRoute = ({\n                          component: Component,\n                          auth,\n                          wasInitialized,\n                          ...rest\n                      }) => {\n    return (\n        <Route\n            {...rest}\n            render={props =>\n                auth === true ? (\n                    <Component {...props} />\n                ) : !wasInitialized ? (\n                    \"\"\n                ) : (\n                    <Redirect to=\"/login\"/>\n                )\n            }\n        />\n    );\n};\n\nexport default PrivateRoute;","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport api from \"../api\";\n\nclass HomePage extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    handleLogout = () => {\n        api.logout();\n        this.props.checkLogin();\n    }\n\n    render() {\n        return (\n            <>\n                <Typography variant=\"h4\" style={{textAlign: 'center', marginTop: '15px'}}>\n                    Ciao, sono la home page!\n                </Typography>\n                <Button variant=\"contained\" color=\"secondary\" style={{margin: '10px auto', display: 'block'}}\n                        onClick={this.handleLogout}>Logout</Button>\n            </>\n        );\n    }\n}\n\nexport default HomePage;","import Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\nimport api from \"./api\";\n\n\nclass ProfileInfoDrawer extends React.Component {\n    constructor() {\n        super();\n        this.state = {name: '', email: '', emailmd5: ''};\n    }\n\n    componentDidMount() {\n        api.request('/users/profile').then(res => {\n            var md5 = require('md5');\n            this.setState({name: res.name, email: res.email, emailmd5: md5(res.email.toLowerCase())})\n        })\n    }\n\n    render() {\n        return (<>\n                <Avatar alt=\"Remy Sharp\" src={\"https://gravatar.com/avatar/\" + this.state.emailmd5 + \"&d=identicon\"}\n                        style={{width: '56px', height: '56px'}}/>\n                <Typography variant=\"subtitle1\" gutterBottom style={{marginTop: '0.4rem', marginBottom: '-0.3rem'}}>\n                    {this.state.name}\n                </Typography>\n                <Typography variant=\"caption\" gutterBottom>\n                    {this.state.email}\n                </Typography>\n            </>\n        );\n    }\n}\n\nexport default ProfileInfoDrawer;","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nclass ProfilePage extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <>\n                <Typography variant=\"h4\" style={{textAlign: 'center', marginTop: '15px'}}>\n                    Questa è la pagina del profilo\n                </Typography>\n            </>\n        );\n    }\n}\n\nexport default ProfilePage;","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport api from \"../api\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Paper from \"@material-ui/core/Paper\";\n\nclass FindClassBooksPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {classes: [], _class: '', years: [], year: '', books: []};\n    }\n\n    componentDidMount() {\n        api.request('/classes').then(res => {\n            let classes = res.map((c) => c.name);\n            classes = [...new Set(classes)];\n            console.log(res);\n            this.setState({rawClasses: res, classes: classes});\n        })\n    }\n\n    handleClassChange = (event) => {\n        this.setState({_class: event.target.value});\n        let years = this.state.rawClasses.filter((c) => {\n            return c.name == event.target.value\n        }).map((c) => {\n            return c.school_year;\n        })\n        this.setState({years: years, year: years[0]})\n        this.updateBooksList(event.target.value, years[0]);\n    }\n\n    handleYearChange = (event) => {\n        this.setState({year: event.target.value});\n        this.updateBooksList(this.state._class, event.target.value);\n    }\n\n    updateBooksList = (_className, year) => {\n        let _class = this.state.rawClasses.filter((c) => {\n            return c.name == _className && c.school_year == year;\n        })\n        let classId = _class[0].id;\n        api.request('/classes/' + classId + '/books').then(res => {\n            this.setState({books: res});\n        })\n    }\n\n    render() {\n        if (this.state.classes.length == 0) return <div style={{margin: '20px auto', width: 'fit-content'}}><CircularProgress /></div>;\n        return (\n            <>\n                <Typography variant=\"h5\" style={{textAlign: 'center', marginTop: '15px'}}>\n                    Cerca i libri della tua classe!\n                </Typography>\n                <div style={{width: 'fit-content', margin: '5px auto'}}>\n                    <FormControl style={{width: '80px', marginRight: '5px'}}>\n                        <InputLabel id=\"demo-simple-select-label\">Classe</InputLabel>\n                        <Select\n                            labelId=\"demo-simple-select-label\"\n                            onChange={this.handleClassChange}\n                            value={this.state._class}\n                        >\n                            {this.state.classes.map((item) => {\n                                return <MenuItem value={item}>{item}</MenuItem>\n                            })}\n                        </Select>\n                    </FormControl>\n                    <FormControl style={{width: '160px', marginLeft: '5px'}}>\n                        <InputLabel id=\"demo-simple-select-label\">Anno scolastico</InputLabel>\n                        <Select\n                            labelId=\"demo-simple-select-label\"\n                            onChange={this.handleYearChange}\n                            value={this.state.year}\n                        >\n                            {this.state.years.map((item) => {\n                                return <MenuItem value={item}>{item}/{parseInt(item)+1}</MenuItem>\n                            })}\n                        </Select>\n                    </FormControl>\n                </div>\n                {this.state.books.length > 0 ? <TableContainer component={Paper} style={{marginTop: '20px'}}>\n                    <Table aria-label=\"simple table\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell align=\"center\">Immagine</TableCell>\n                                <TableCell align=\"left\">Titolo</TableCell>\n                                <TableCell align=\"left\">ISBN</TableCell>\n                                <TableCell align=\"left\">Prezzo</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {this.state.books.map((book) => (\n                                <TableRow key={book.id}>\n                                    <TableCell align=\"center\"><img src={book.photo} height='100px'/></TableCell>\n                                    <TableCell align=\"left\">{book.title}</TableCell>\n                                    <TableCell align=\"left\">{book.isbn}</TableCell>\n                                    <TableCell align=\"left\">€{book.price}</TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer> : null}\n            </>\n        );\n    }\n}\n\nexport default FindClassBooksPage;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport {makeStyles, useTheme} from '@material-ui/core/styles';\nimport {BrowserRouter, NavLink, Redirect, Route, Switch} from \"react-router-dom\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Icon from \"@material-ui/core/Icon\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport api from \"./api\";\nimport ProfileInfoDrawer from \"./ProfileInfoDrawer\";\nimport HomePage from \"./pages/HomePage\";\nimport ProfilePage from \"./pages/ProfilePage\";\nimport FindClassBooksPage from \"./pages/FindClassBooksPage\";\n\nconst drawerWidth = 240;\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n    },\n    drawer: {\n        [theme.breakpoints.up('md')]: {\n            width: drawerWidth,\n            flexShrink: 0,\n        },\n    },\n    appBar: {\n        zIndex: theme.zIndex.drawer + 1,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n        [theme.breakpoints.up('md')]: {\n            display: 'none',\n        },\n    },\n    toolbar: theme.mixins.toolbar,\n    drawerPaper: {\n        width: drawerWidth\n    },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing(3),\n        marginTop: '54px',\n        [theme.breakpoints.down('xs')]: {\n            marginTop: '40px'\n        },\n    },\n    closeMenuButton: {\n        marginRight: 'auto',\n        marginLeft: 0,\n    },\n}));\n\nfunction PageContainer(props) {\n    const dummyCategories = ['Hokusai', 'Hiroshige', 'Utamaro', 'Kuniyoshi', 'Yoshitoshi']\n    const classes = useStyles();\n    const theme = useTheme();\n    const [mobileOpen, setMobileOpen] = React.useState(false);\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    function handleDrawerToggle() {\n        setMobileOpen(!mobileOpen)\n    }\n\n    const openProfileMenu = (event) => {\n        setAnchorEl(event.currentTarget);\n    }\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    }\n\n    const handleLogout = () => {\n        handleClose();\n        api.logout();\n        props.checkLogin();\n    }\n\n    const drawer = (\n        <div>\n            <div style={{padding: '12px'}}>\n                <ProfileInfoDrawer/>\n\n                <IconButton\n                    edge=\"start\"\n                    color=\"inherit\"\n                    style={{margin: 0, padding: 0, float: 'right'}}\n                    onClick={openProfileMenu}\n                >\n                    <Icon>expand_more</Icon>\n                </IconButton>\n                <Menu\n                    anchorEl={anchorEl}\n                    keepMounted\n                    open={Boolean(anchorEl)}\n                    onClose={handleClose}\n                >\n                    <MenuItem onClick={handleClose} component={NavLink} to=\"/profile\" >Profilo</MenuItem>\n                    <MenuItem onClick={handleLogout}>Logout</MenuItem>\n                </Menu>\n            </div>\n            <Divider variant=\"middle\" style={{margin: '0'}}/>\n            <List>\n                <ListItem button key=\"/\" component={NavLink} exact to=\"/\" activeClassName=\"Mui-selected\">\n                    <ListItemText primary=\"Home\"/>\n                </ListItem>\n                <ListItem button key=\"/class-books\" component={NavLink} to=\"/class-books\" activeClassName=\"Mui-selected\">\n                    <ListItemText primary=\"Ricerca libri classe\"/>\n                </ListItem>\n            </List>\n        </div>\n    );\n    return (\n        <div className={classes.root}>\n            <CssBaseline/>\n            <AppBar position=\"fixed\" className={classes.appBar}>\n                <Toolbar>\n                    <IconButton\n                        color=\"inherit\"\n                        aria-label=\"Open drawer\"\n                        edge=\"start\"\n                        onClick={handleDrawerToggle}\n                        className={classes.menuButton}\n                    >\n                        <MenuIcon/>\n                    </IconButton>\n                    <Typography variant=\"h6\" noWrap>\n                        PaleoBooks\n                    </Typography>\n                </Toolbar>\n            </AppBar>\n\n            <nav className={classes.drawer}>\n                {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n                <Hidden mdUp implementation=\"css\">\n                    <Drawer\n                        variant=\"temporary\"\n                        anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n                        open={mobileOpen}\n                        onClose={handleDrawerToggle}\n                        classes={{\n                            paper: classes.drawerPaper,\n                        }}\n                        ModalProps={{\n                            keepMounted: true,\n                        }}\n                    >\n                        {drawer}\n                    </Drawer>\n                </Hidden>\n                <Hidden smDown implementation=\"css\">\n                    <Drawer\n                        className={classes.drawer}\n                        variant=\"permanent\"\n                        classes={{\n                            paper: classes.drawerPaper,\n                        }}\n                    >\n                        <div className={classes.toolbar}/>\n                        {drawer}\n                    </Drawer>\n                </Hidden>\n            </nav>\n            <div className={classes.content}>\n                <div>\n                    <Switch>\n                        <Route exact path=\"/\">\n                            <HomePage checkLogin={props.checkLogin}/>\n                        </Route>\n                        <Route path=\"/profile\">\n                            <ProfilePage/>\n                        </Route>\n                        <Route path=\"/class-books\">\n                            <FindClassBooksPage/>\n                        </Route>\n\n                    </Switch>\n\n                </div>\n            </div>\n        </div>\n\n    );\n}\n\nexport default PageContainer;","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Container from \"@material-ui/core/Container\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport {BrowserRouter, Redirect, Route, Switch} from \"react-router-dom\";\nimport LoginPage from \"./pages/LoginPage\";\nimport api from \"./api\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport HomePage from \"./pages/HomePage\";\nimport PageContainer from \"./PageContainer\";\n\nclass App extends React.Component {\n    constructor() {\n        super();\n        this.state = {error: false, isLoggedIn: null, wasInitialized: false}\n    }\n\n    componentDidMount = () => {\n        this.chechLogin();\n        setTimeout(() => {\n            if (this.state.isLoggedIn === null) {\n                this.setState({error: true})\n            }\n        }, 5000);\n    }\n\n    chechLogin = () => {\n        api.isLoggedIn().then(() => {\n            this.setState({isLoggedIn: true, wasInitialized: true});\n            console.log(true);\n        }).catch(() => {\n            this.setState({isLoggedIn: false, wasInitialized: true});\n            console.log(false);\n        });\n    }\n\n    render = () => {\n        if (this.state.error === true) return <div style={{textAlign: 'center'}}><h1>Impossibile comunicare con il server</h1><h2>Riprova più tardi</h2><h4>PaleoBooks</h4></div>\n        if (this.state.isLoggedIn === null) return <div style={{margin: '20px auto', width: 'fit-content'}}><CircularProgress /></div>;\n        return (\n            <BrowserRouter basename='/pbr/'>\n                <Switch>\n                    <Route exact path=\"/login\">\n                        {this.state.isLoggedIn\n                            ? <Redirect to=\"\"/>\n                            : <LoginPage checkLogin={this.chechLogin}/>}\n                    </Route>\n                    <PrivateRoute auth={this.state.isLoggedIn} wasInitialized={this.state.wasInitialized} exact component={() => <PageContainer checkLogin={this.chechLogin} />} path=\"*\"/>\n                    <Route path=\"*\">\n                        <Redirect to=\"\"/>\n                    </Route>\n                </Switch>\n            </BrowserRouter>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}